<div class="space-y-6">
  <div
    class="flex md:justify-between justify-center flex-col md:flex-row items-center flex-wrap"
  >
    <h1 class="text-lg md:text-2xl font-bold text-gray-900 dark:text-gray-100">
      Available Tournaments
    </h1>
    <div class="text-sm text-gray-600 dark:text-gray-400">
      {{ myTeams().length }} team{{ myTeams().length !== 1 ? "s" : "" }}
      available
    </div>
  </div>

  @if (isLoading()) {
  <div class="text-center py-12">
    <div
      class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"
    ></div>
    <p class="text-gray-600 dark:text-gray-400">Loading tournaments...</p>
  </div>
  } @if (!isLoading() && tournaments().length === 0) {
  <div class="text-center py-12">
    <div class="text-gray-400 dark:text-gray-600 mb-3">
      <lucide-angular
        [img]="icons.Trophy"
        [size]="64"
        class="mx-auto"
      ></lucide-angular>
    </div>
    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">
      No tournaments found
    </h3>
    <p class="text-gray-600 dark:text-gray-400">
      There are currently no tournaments available to join.
    </p>
  </div>
  } @if (!isLoading() && tournaments().length > 0) {
  <div
    class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"
  >
    @for (tournament of tournaments(); track tournament.id) {
    <app-tournament-card
      [tournament]="tournament"
      [isOrganizer]="false"
      (join)="onTournamentJoin($event)"
      (view)="onTournamentView($event)"
      (leave)="onTournamentLeave($event)"
    ></app-tournament-card>
    }
  </div>
  }
</div>

<app-team-selection-modal
  [isOpen]="showTeamSelectionModal()"
  [teams]="myTeams()"
  [tournament]="selectedTournament()"
  [isJoining]="isJoiningTournament()"
  (teamSelected)="onTeamSelected($event)"
  (modalClosed)="onTeamSelectionModalClosed()"
  (createTeamClicked)="onCreateTeamFromModal()"
></app-team-selection-modal>
