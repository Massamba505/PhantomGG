<div class="flex justify-end items-center mb-2">
  <button class="btn btn-primary" routerLink="/user/teams/create">
    <lucide-angular [img]="icons.CirclePlus" [size]="20"></lucide-angular>
    Create Team
  </button>
</div>

<!-- <app-team-search
  (clearFiltersSearch)="onClearSearch()"
  (searchChange)="onSearchChange($event)"
/> -->

@if (isLoading()) {
<div class="text-center py-12">
  <div
    class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"
  ></div>
  <p class="text-gray-600 dark:text-gray-400">Loading teams...</p>
</div>
} @if (!isLoading() && teams().length === 0) {
<div class="text-center py-12">
  <div class="text-gray-400 dark:text-gray-600 mb-3">
    <lucide-angular
      [img]="icons.Users"
      [size]="64"
      class="mx-auto"
    ></lucide-angular>
  </div>
  <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">
    No teams found
  </h3>
  <p class="text-gray-600 dark:text-gray-400 mb-4">
    You haven't created any teams yet. Create your first team to get started.
  </p>
  <button class="btn btn-primary" routerLink="/user/teams/create">
    <lucide-angular [img]="icons.CirclePlus" [size]="20"></lucide-angular>
    Create Your First Team
  </button>
</div>
} @if (!isLoading() && teams().length > 0) {
<div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
  @for (team of teams(); track team.id) {
  <!-- <app-team-card
      [team]="team"
      (teamAction)="onTeamAction($event)"
    ></app-team-card> -->

  <!-- Temporary team card until components are created -->
  <div class="card">
    <div class="flex items-start justify-between mb-3">
      <div class="flex items-center space-x-3">
        @if (team.logoUrl) {
        <img
          [src]="team.logoUrl"
          [alt]="team.name + ' logo'"
          class="w-12 h-12 rounded-lg object-cover"
        />
        } @else {
        <div
          class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg"
        >
          {{ team.name.charAt(0).toUpperCase() }}
        </div>
        }
        <div>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            {{ team.name }}
          </h3>
          @if (team.shortName) {
          <p class="text-sm text-gray-600 dark:text-gray-400">
            {{ team.shortName }}
          </p>
          }
        </div>
      </div>

      <div class="flex space-x-1">
        <button
          class="p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"
          [routerLink]="['/user/teams', team.id, 'edit']"
          title="Edit team"
        >
          <lucide-angular [img]="icons.Edit" [size]="16"></lucide-angular>
        </button>
        <button
          class="p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"
          (click)="deleteTeam(team)"
          title="Delete team"
        >
          <lucide-angular [img]="icons.Trash2" [size]="16"></lucide-angular>
        </button>
      </div>
    </div>

    <div class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
      <div class="flex items-center space-x-2">
        <lucide-angular [img]="icons.Calendar" [size]="14"></lucide-angular>
        <span>Created {{ team.createdAt | date : "short" }}</span>
      </div>
      @if (team.updatedAt) {
      <div class="flex items-center space-x-2">
        <lucide-angular [img]="icons.Edit" [size]="14"></lucide-angular>
        <span>Updated {{ team.updatedAt | date : "short" }}</span>
      </div>
      }
    </div>
  </div>
  }
</div>
}
