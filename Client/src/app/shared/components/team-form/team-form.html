<form [formGroup]="teamForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div>
    <label class="block text-sm font-medium mb-2">Team Logo (Optional)</label>

    <div
      class="border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition"
      (click)="fileInput.click()"
      (drop)="onLogoChange($event)"
      (dragover)="allowDrop($event)"
    >
      <input
        #fileInput
        type="file"
        accept="image/*"
        hidden
        (change)="onLogoChange($event)"
      />

      @if (!logoPreview()) {
      <p class="text-sm">Drag & drop or click to upload</p>
      } @if (logoPreview()) {
      <img
        [src]="logoPreview()"
        alt="Logo Preview"
        class="mx-auto max-h-32 object-contain rounded-lg shadow"
      />
      }
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium mb-2">Team Name *</label>
    <input
      type="text"
      formControlName="name"
      class="input-field w-full"
      [ngClass]="{ error: submitted() && teamForm.controls['name'].invalid }"
      placeholder="Enter team name"
    />
    @if (submitted() && teamForm.controls['name'].invalid) {
    <div class="error-message text-sm mt-1">
      Team name is required (2-200 characters)
    </div>
    }
  </div>

  <div>
    <label class="block text-sm font-medium mb-2">Short Name (Optional)</label>
    <input
      type="text"
      formControlName="shortName"
      class="input-field w-full"
      [ngClass]="{
        error: submitted() && teamForm.controls['shortName'].invalid
      }"
      placeholder="Enter team abbreviation (max 10 chars)"
      maxlength="10"
    />
    @if (submitted() && teamForm.controls['shortName'].invalid) {
    <div class="error-message text-sm mt-1">
      Short name must be 10 characters or less
    </div>
    }
  </div>

  <div class="flex space-x-3 pt-4">
    <button type="button" (click)="onCancel()" class="btn btn-secondary flex-1">
      Cancel
    </button>
    <button
      type="submit"
      class="btn btn-primary flex-1"
      [disabled]="submitted() && teamForm.invalid"
    >
      {{ team() ? "Update Team" : "Create Team" }}
    </button>
  </div>
</form>
