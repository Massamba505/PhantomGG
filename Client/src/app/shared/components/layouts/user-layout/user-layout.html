<div class="flex h-screen overflow-hidden" data-cy="user-layout">
  <app-sidebar
    [userRole]="userRole()"
    (stateChange)="onSidebarStateChange($event)"
    data-cy="user-sidebar"
  ></app-sidebar>

  <div
    class="flex flex-col flex-1 h-full transition-all duration-300 overflow-hidden"
    [ngClass]="sidebarOpen() ? 'ml-64' : 'ml-16'"
    data-cy="user-main-content"
  >
    <header class="h-16 flex items-center justify-between px-6 shadow-sm" data-cy="user-header">
      <h1 class="text-xl font-semibold" data-cy="page-title">{{ pageTitle() }}</h1>

      <div class="flex items-center gap-2" data-cy="header-actions">
        <app-theme-toggle data-cy="header-theme-toggle"></app-theme-toggle>
        <app-profile-dropdown data-cy="profile-dropdown"></app-profile-dropdown>
      </div>
    </header>

    <main class="flex-1 p-6 overflow-y-auto h-full" data-cy="user-main">
      <ng-content></ng-content>
    </main>
  </div>
</div>
