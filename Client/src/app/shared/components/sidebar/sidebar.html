<div
  class="fixed left-0 top-0 h-full transition-all duration-300 z-40 border-r"
  [ngClass]="isOpen ? 'w-64' : 'w-16'"
>
  <div class="px-4 pt-4">
    <div class="flex justify-between items-center gap-2">
      @if (isOpen) {
      <header>
        <a routerLink="/" class="flex gap-2 items-center">
          <img
            src="PhantomGG_LOGO.png"
            alt="Logo"
            class="w-10 h-10 rounded-2xl"
          />
          <span class="font-bold text-lg text-gray-500">PhantomGG</span>
        </a>
      </header>
      }

      <button (click)="toggle.emit()" class="p-2 cursor-pointer rounded-lg">
        <lucide-angular [img]="MenuIcon" class="h-5 w-5"></lucide-angular>
      </button>
    </div>
  </div>

  <!-- Navigation -->
  <div class="p-4">
    <!-- Main Navigation -->
    <div class="mb-6">
      @if (isOpen) {
      <h3 class="text-sm font-medium text-gray-500 mb-3">Navigation</h3>
      }

      <nav class="space-y-1">
        @for (item of menuItems; track item.title) { @if
        (item.roles.includes(userRole)) {
        <a
          [routerLink]="item.url"
          routerLinkActive="bg-gray-100 text-blue-600"
          class="flex items-center gap-3 px-3 py-2 rounded-lg group text-sm font-medium text-gray-700 hover:bg-gray-100"
        >
          <lucide-angular
            [img]="item.icon"
            class="h-5 w-5 flex-shrink-0"
          ></lucide-angular>

          @if (isOpen) {
          <span>{{ item.title }}</span>
          } @else {
          <div
            class="absolute left-16 bg-gray-900 text-white px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50"
          >
            {{ item.title }}
          </div>
          }
        </a>
        } }
      </nav>
    </div>

    <!-- Quick Actions -->
    <div class="mb-6">
      @if (isOpen) {
      <h3 class="text-sm font-medium text-gray-500 mb-3">Quick Actions</h3>
      }

      <nav class="space-y-1">
        @for (item of quickActions; track item.title) { @if
        (item.roles.includes(userRole)) {
        <a
          [routerLink]="item.url"
          routerLinkActive="bg-gray-100 text-blue-600"
          class="flex items-center gap-3 px-3 py-2 rounded-lg group text-sm font-medium text-gray-700 hover:bg-gray-100"
        >
          <lucide-angular
            [img]="item.icon"
            class="h-5 w-5 flex-shrink-0"
          ></lucide-angular>

          @if (isOpen) {
          <span>{{ item.title }}</span>
          } @else {
          <div
            class="absolute left-16 bg-gray-900 text-white px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50"
          >
            {{ item.title }}
          </div>
          }
        </a>
        } }
      </nav>
    </div>
  </div>

  <!-- Footer -->
  <div class="absolute bottom-0 w-full p-4">
    <app-footer [isOpen]="isOpen"></app-footer>
  </div>
</div>
